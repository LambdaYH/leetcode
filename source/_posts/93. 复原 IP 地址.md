#include <vector>
#include <string>
#include <iostream>

using namespace std;

class Solution {
public:
    vector<string> restoreIpAddresses(string s) {
        vector<string> ret;
        vector<int> tmp;
        helper(s, 0, 0, ret, tmp);
        return ret;
    }
private:
    void helper(string& s, int curNum, int index, vector<string>& ret, vector<int>& tmp)
    {
        if (index == s.size())
        {
            if (tmp.size() == 4)
                ret.push_back(move(build(tmp)));
            return;
        }
        cout << index << " " << tmp.size() <<  endl;
        int cur = s[index] - '0';
        int num = curNum * 10 + cur;
        tmp.push_back(cur);
        helper(s, 0, index + 1, ret, tmp);
        tmp.pop_back();
        if (num <= 255 && num >= 10)
        {
            tmp.push_back(num);
            helper(s, 0, index + 1, ret, tmp);
            tmp.pop_back();
            helper(s, num, index + 1, ret, tmp);
        }
    }
    string build(vector<int>& tmp)
    {
        string ret;
        for (auto num : tmp)
            ret += to_string(num) + '.';
        ret.pop_back();
        return ret;
    }
};

int main()
{
    Solution s;
    s.restoreIpAddresses("25525511135");
}
